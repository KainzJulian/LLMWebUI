<div *ngIf="!this.sidebarService.isSidebarOpen()" class="button-group">
  <base-button
    buttonType="icon"
    iconName="sidebar-light"
    (onClick)="openSidebar()"
  ></base-button>
</div>

<div *ngIf="this.sidebarService.isSidebarOpen()" class="container">
  <div class="menu-bar--top">
    <base-button
      buttonType="icon"
      iconName="close-light"
      (onClick)="closeSidebar()"
    ></base-button>

    <base-button
      buttonType="icon"
      iconName="search-light"
      (onClick)="openSearch()"
    ></base-button>
  </div>

  <div class="group">
    <div class="group__container">
      <ng-container *ngIf="modelService.modelArray.length">
        <div class="group__title">
          <p>AI Models</p>
        </div>
        @for(item of modelService.modelArray; track item.model) {
        <list-button
          (onClickButton)="this.chatService.createChat(item.model)"
          (onClickIcon)="this.chatService.createChat(item.model)"
          [text]="item.model"
          iconName="add-light"
        ></list-button>
        }
      </ng-container>
    </div>

    <div class="group__container">
      <ng-container *ngIf="chatService.favouriteChats.length">
        <div class="group__title">
          <p>Favourite Chats</p>
        </div>
        @for(chat of chatService.favouriteChats; track $index; let i = $index) {
        <list-button
          (onClickButton)="this.chatService.setCurrentChat(chat)"
          (onClickIcon)="this.chatService.setCurrentChat(chat)"
          [text]="chat.name"
          iconName="add-light"
          [isSelected]="
            this.chatService.isCurrentChat(chat, chatService.favouriteChats)
          "
        ></list-button>
        }
      </ng-container>
    </div>

    <div class="group__container">
      <ng-container class="group--chat" *ngIf="chatService.chatList.length">
        <div class="group__title">
          <p>Chats</p>
        </div>
        @for(chat of chatService.chatList; track $index; let i = $index ) {
        <list-button
          (onClickButton)="this.chatService.setCurrentChat(chat)"
          (onClickIcon)="this.chatService.delete(i)"
          [text]="chat.name"
          iconName="delete-light"
          [isSelected]="
            this.chatService.isCurrentChat(chat, chatService.chatList)
          "
        ></list-button>
        }
      </ng-container>
    </div>
  </div>

  <div class="menu-bar--bottom">
    <base-button
      buttonType="icon"
      iconName="options-light"
      (onClick)="openOptions()"
    ></base-button>
  </div>
</div>
